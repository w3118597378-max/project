{"version":3,"file":"js/2947.6cd9a607.js","mappings":"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","sources":["webpack://vue3-nf0/./src/views/pages/forum/detail.vue","webpack://vue3-nf0/./src/views/pages/forum/detail.vue?6a75","webpack://vue3-nf0/./src/views/pages/forum/detail.vue?7d19","webpack://vue3-nf0/./src/views/pages/forum/detail.vue?7b4d","webpack://vue3-nf0/./src/views/pages/forum/detail.vue?9f4a","webpack://vue3-nf0/./node_modules/core-js/modules/esnext.iterator.filter.js","webpack://vue3-nf0/./src/components/img.vue","webpack://vue3-nf0/./src/components/img.vue?aedf","webpack://vue3-nf0/./src/components/img.vue?5625","webpack://vue3-nf0/./src/components/img.vue?7da5","webpack://vue3-nf0/./src/components/img.vue?8149"],"sourcesContent":["<template>\r\n    <div class=\"forum_view\">\r\n        <div class=\"breadcrumb-wrapper\" style=\"width: 100%;\">\r\n            <div class=\"bread_view\">\r\n                <el-breadcrumb separator=\"Ξ\" class=\"breadcrumb\">\r\n                    <el-breadcrumb-item class=\"first_breadcrumb\" :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n                    <el-breadcrumb-item class=\"second_breadcrumb\" :to=\"{ path: '/index/forumList' }\">{{formName}}</el-breadcrumb-item>\r\n                    <el-breadcrumb-item class=\"second_breadcrumb\">内容</el-breadcrumb-item>\r\n                </el-breadcrumb>\r\n            </div>\r\n            <div class=\"back_view\">\r\n                <el-button class=\"back_btn\" @click=\"backClick\">返回</el-button>\r\n            </div>\r\n        </div>\r\n        <div class=\"forum_detail\">\r\n            <div class=\"forum_title\">\r\n                <span>{{detailForm.title}}</span>\r\n            </div>\r\n            <div class=\"forum_info\">\r\n\t\t\t\t\t<span class=\"forum_name\">\r\n                        发布人：{{detailForm.isAnonymous==1&&detailForm.userid!=user.id?'匿名':detailForm.username}}\r\n                    </span>\r\n                <span class=\"forum_time\">发布时间：{{detailForm.addtime}}</span>\r\n            </div>\r\n            <div class=\"thumbs_view\">\r\n                <template v-if=\"!thumbsupOrCrazilyInfo.type\">\r\n                    <div class=\"zan_view\" style=\"cursor: pointer\" @click=\"thumbsupOrCrazilyClick(21)\">\r\n                        <i class=\"iconfont icon-thumb-up-line1\"></i>\r\n                        <span>赞({{detailForm.thumbsupNumber}})</span>\r\n                    </div>\r\n                    <div class=\"zan_view\" style=\"cursor: pointer\" @click=\"thumbsupOrCrazilyClick(22)\">\r\n                        <i class=\"iconfont icon-thumb-down-line1\"></i>\r\n                        <span>踩({{detailForm.crazilyNumber}})</span>\r\n                    </div>\r\n                </template>\r\n                <template v-else>\r\n                    <div class=\"zan_view\" style=\"cursor: pointer\" v-if=\"thumbsupOrCrazilyInfo.type==21\" @click=\"cancelThumbsupOrCrazilyClick(21)\">\r\n                        <i class=\"iconfont iconfontActive icon-thumb-up-fill1\"></i>\r\n                        <span class=\"textActive\">取消赞({{detailForm.thumbsupNumber}})</span>\r\n                    </div>\r\n                    <div class=\"zan_view\" style=\"cursor: pointer\" v-else @click=\"cancelThumbsupOrCrazilyClick(22)\">\r\n                        <i class=\"iconfont iconfontActive icon-thumb-down-fill1\"></i>\r\n                        <span class=\"textActive\">取消踩({{detailForm.crazilyNumber}})</span>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n            <el-divider />\r\n            <div class=\"forum_content\" v-html=\"detailForm.content\"></div>\r\n            <el-carousel class=\"forum_swiper\" v-if=\"detailForm.imgUrls\">\r\n                <el-carousel-item v-for=\"item in detailForm.imgUrls\">\r\n                    <img :src=\"item\" style=\"width: 100%;height: 100%;object-fit: cover;\">\r\n                </el-carousel-item>\r\n            </el-carousel>\r\n            <div class=\"operate-row\">\r\n                <div class=\"report-btn\" style=\"cursor: pointer;\" @click=\"toReport()\">\r\n                    <el-icon><EditPen /></el-icon>举报\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <el-card class=\"forum_comment_box\">\r\n            <el-divider class=\"comment_divider\" content-position=\"center\">评论列表</el-divider>\r\n            <div class=\"comment_add_box\">\r\n                <el-button class=\"comment_add\" @click=\"commentClick\" type=\"success\">发表评论</el-button>\r\n            </div>\r\n            <div class=\"forum_comment_list\">\r\n                <div class=\"forum_comment\" v-for=\"(item,index) in detailForm.childs\" :key=\"index\"\r\n                    @mouseenter=\"commentEnter(index)\" @mouseleave=\"commentLeave\">\r\n                    <div class=\"forum_comment_user\">\r\n                        <img v-if=\"item.avatarurl\" class=\"forum_comment_user_avatar\"\r\n                            :src=\"baseUrl + item.avatarurl.split(',')[0]\" alt=\"\">\r\n                        <img v-else class=\"forum_comment_user_avatar\" src=\"@/assets/avatar.png\" alt=\"\">\r\n                        <span class=\"forum_comment_username\">{{item.username}}</span>\r\n                    </div>\r\n                    <div class=\"forum_comment_content\" v-html=\"item.content\"></div>\r\n                    <div class=\"forum_comment_reply_view\">\r\n                        <div class=\"forum_comment_del\" v-if=\"commentShowIndex==index&&item.userid==user.id\"\r\n                            @click=\"commentDelClick(item.id)\">删除</div>\r\n                        <div class=\"forum_comment_reply\" v-if=\"commentShowIndex==index\"\r\n                            @click=\"commentReplyClick(item.id)\">回复</div>\r\n                    </div>\r\n                    <div class=\"forum_comment_second_list\" v-if=\"item.childs\">\r\n                        <el-divider class=\"forum_comment_second_divider\" content-position=\"center\">回复</el-divider>\r\n                        <div class=\"forum_comment_second\" v-for=\"(items,indexs) in item.childs\" :key=\"indexs\"\r\n                            @mouseenter=\"commentEnter1(indexs)\" @mouseleave=\"commentLeave1\">\r\n                            <div class=\"forum_comment_second_user\">\r\n                                <img v-if=\"items.avatarurl\" class=\"forum_comment_second_user_avatar\"\r\n                                    :src=\"baseUrl + items.avatarurl.split(',')[0]\" alt=\"\">\r\n                                <img v-else class=\"forum_comment_second_user_avatar\" src=\"@/assets/avatar.png\" alt=\"\">\r\n                                <span class=\"forum_comment_second_username\">{{items.username}}</span>\r\n                            </div>\r\n                            <div class=\"forum_comment_second_content\" v-html=\"items.content\"></div>\r\n                            <div class=\"forum_comment_second_reply_view\">\r\n                                <div class=\"forum_comment_second_del\"\r\n                                    v-if=\"commentShowIndex==index&&items.userid==user.id&&commentShowIndex1==indexs\"\r\n                                    @click=\"commentDelClick(items.id)\">删除</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </el-card>\r\n    </div>\r\n    <el-dialog v-model=\"commentVisible\" :title=\"'发表评论'\" width=\"50%\" destroy-on-close>\r\n        <el-form class=\"add_form\" :model=\"commentForm\" label-width=\"120px\">\r\n            <el-row>\r\n                <el-col :span=\"12\">\r\n                    <el-form-item prop=\"content\" label=\"内容\">\r\n                        <editor :value=\"commentForm.content\" placeholder=\"请输入评论\"\r\n                                class=\"list_editor\" @change=\"commentChange\"></editor>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-row>\r\n        </el-form>\r\n        <template #footer>\r\n\t\t\t\t<span class=\"formModel_btn_box\">\r\n\t\t\t\t\t<el-button class=\"formModel_cancel\" @click=\"commentVisible=false\">关闭</el-button>\r\n\t\t\t\t\t<el-button class=\"formModel_confirm\" type=\"primary\" @click=\"commentSave\">发表</el-button>\r\n\t\t\t\t</span>\r\n        </template>\r\n    </el-dialog>\r\n    <el-dialog title=\"举报\" v-model=\"reportVisible\">\r\n        <el-form :model=\"reportForm\" :rules=\"reportRules\" ref=\"reportFormRef\">\r\n            <el-form-item label=\"举报原因\" label-width=\"80px\" prop=\"reason\">\r\n                <el-input type=\"textarea\" v-model=\"reportForm.reason\" :rows=\"5\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"补充截图\" label-width=\"80px\">\r\n                <uploads\r\n                    action=\"file/upload\"\r\n                    tip=\"请上传封面\"\r\n                    style=\"width: 100%;text-align: left;\"\r\n                    :fileUrls=\"reportForm.images?reportForm.images:''\"\r\n                    @change=\"uploadSuccess\">\r\n                </uploads>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\" style=\"text-align: right;\">\r\n            <el-button @click=\"reportVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"reportSave()\">确 定</el-button>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n<script setup>\r\nimport {\r\n    ref,\r\n    nextTick,\r\n    getCurrentInstance,\r\n    onMounted,\r\n    computed,\r\n} from 'vue';\r\nimport {\r\n    useRoute,\r\n    useRouter\r\n} from 'vue-router'\r\nimport {\r\n    useStore\r\n} from 'vuex';\r\nconst store = useStore()\r\nconst user = computed(()=>store.getters['user/session'])\r\nimport Img from \"@/components/img.vue\";\r\nconst context = getCurrentInstance()?.appContext.config.globalProperties;\r\n//基础信息\r\nconst tableName = 'forum'\r\nconst formName = '论坛交流'\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst sessionTable = localStorage.getItem('frontSessionTable')\r\nconst baseUrl = ref(context.$config.url)\r\n//权限验证\r\nconst btnAuth = (e, a) => {\r\n    if(context?.$toolUtil.isAuth(e, a)){\r\n        return true\r\n    }\r\n    if(centerType.value){\r\n        return context?.$toolUtil.isBackAuth(e,a)\r\n    }\r\n}\r\n//返回\r\nconst backClick = () => {\r\n    history.back()\r\n}\r\nconst detailForm = ref({})\r\nconst getDetail = () => {\r\n    context?.$http({\r\n        url: `forum/list/${route.query.id}`,\r\n        method: 'get'\r\n    }).then(res => {\r\n        detailForm.value = res.data.data\r\n        if(detailForm.value.cover){\r\n            detailForm.value.imgUrls = detailForm.value.cover.split(',').map(url=>{\r\n                if(url && url.substr(0,4)=='http'){\r\n                    return url\r\n                }else{\r\n                    return baseUrl.value + url\r\n                }\r\n            })\r\n        }\r\n        // 赞踩状态\r\n        getThumbsupOrCrazily()\r\n    })\r\n}\r\n    // 赞or踩\r\n    const thumbsupOrCrazilyInfo = ref({})\r\n    // 获取赞踩状态\r\n    const getThumbsupOrCrazily = () => {\r\n        if (context?.$toolUtil.storageGet('frontToken')) {\r\n            context?.$http({\r\n                url: 'storeup/page',\r\n                method: 'get',\r\n                params: {\r\n                    page: 1,\r\n                    limit: 99,\r\n                    refid: detailForm.value.id,\r\n                    tablename: 'forum',\r\n                    userid: user.value.id\r\n                }\r\n            }).then(res => {\r\n                let list = res.data.data.list.filter(item=>(item.type==21||item.type==22))\r\n                if(!list.length){\r\n                    thumbsupOrCrazilyInfo.value = {}\r\n                }else{\r\n                    thumbsupOrCrazilyInfo.value = list[0]\r\n                }\r\n            })\r\n        }\r\n    }\r\n    // 赞踩按钮\r\n    const thumbsupOrCrazilyClick = (type) => {\r\n        let params = {\r\n            name: detailForm.value.title,\r\n            picture: '',\r\n            refid: detailForm.value.id,\r\n            type: type,\r\n            tablename: 'forum',\r\n            userid: user.value.id\r\n        }\r\n        context?.$http({\r\n            url: 'storeup/add',\r\n            method: 'post',\r\n            data: params\r\n        }).then(res => {\r\n            if (type == 21) detailForm.value.thumbsupNumber += 1\r\n            if (type == 22) detailForm.value.crazilyNumber += 1\r\n            context?.$http({\r\n                url: `forum/update`,\r\n                method: 'post',\r\n                data: detailForm.value\r\n            })\r\n            getThumbsupOrCrazily()\r\n            context?.$toolUtil.message('操作成功', 'success')\r\n        })\r\n    }\r\n    //取消赞踩按钮\r\n    const cancelThumbsupOrCrazilyClick = (type) => {\r\n        let ids = []\r\n        ids.push(thumbsupOrCrazilyInfo.value.id)\r\n        context?.$http({\r\n            url: 'storeup/delete',\r\n            method: 'post',\r\n            data: ids\r\n        }).then(res => {\r\n            if (type == 21 && detailForm.value.thumbsupNumber>0) detailForm.value.thumbsupNumber -= 1\r\n            if (type == 22 && detailForm.value.crazilyNumber>0) detailForm.value.crazilyNumber -= 1\r\n            context?.$http({\r\n                url: `forum/update`,\r\n                method: 'post',\r\n                data: detailForm.value\r\n            })\r\n            getThumbsupOrCrazily()\r\n            context?.$toolUtil.message('取消成功', 'success')\r\n        })\r\n    }\r\n//评论\r\nconst commentForm = ref({\r\n    content: '',\r\n    parentid: '',\r\n    userid: '',\r\n    username: '',\r\n    avatarurl: '',\r\n})\r\nconst commentVisible = ref(false)\r\n//重置评论\r\nconst resetCommentForm = () => {\r\n    commentForm.value = {\r\n        content: '',\r\n        parentid: '',\r\n        userid: user.value.id,\r\n        username: context?.$toolUtil.storageGet('frontName'),\r\n        avatarurl: context?.$toolUtil.storageGet('headportrait') ? context?.$toolUtil.storageGet('headportrait') : '',\r\n    }\r\n}\r\n//发表评论\r\nconst commentClick = () => {\r\n    resetCommentForm()\r\n    commentForm.value.parentid = detailForm.value.id\r\n    commentVisible.value = true\r\n}\r\n//回复按钮显示\r\nconst commentShowIndex = ref(-1)\r\nconst commentShowIndex1 = ref(-1)\r\nconst commentEnter = (index) => {\r\n    commentShowIndex.value = index\r\n}\r\nconst commentLeave = () => {\r\n    commentShowIndex.value = -1\r\n}\r\nconst commentEnter1 = (index) => {\r\n    commentShowIndex1.value = index\r\n}\r\nconst commentLeave1 = () => {\r\n    commentShowIndex1.value = -1\r\n}\r\n//评论内容回调\r\nconst commentChange = (e)=>{\r\n    commentForm.value.content = e\r\n}\r\nconst sensitiveWordsArr = ref([])\r\nconst getSensitiveWords = ()=>{\r\n    context.$http.get('sensitiveword/detail/1').then(res=>{\r\n        sensitiveWordsArr.value = res.data.data.content.split(',')\r\n    })\r\n}\r\ngetSensitiveWords()\r\n//发表保存\r\nconst commentSave = () => {\r\n    if(commentForm.value.content==''){\r\n        context?.$toolUtil.message(`请输入内容`, 'error')\r\n        return false\r\n    }\r\n    commentForm.value.title = detailForm.value.title\r\n    for (var i = 0; i < sensitiveWordsArr.value.length; i++) {\r\n        //全局替换\r\n        var reg = new RegExp(sensitiveWordsArr.value[i], \"g\");\r\n        //判断内容中是否包括敏感词\r\n        if (commentForm.value.content.indexOf(sensitiveWordsArr.value[i]) > -1) {\r\n            // 将敏感词替换为 **\r\n            commentForm.value.content = commentForm.value.content.replace(reg, \"**\");\r\n        }\r\n    }\r\n    context?.$http({\r\n        url: 'forum/add',\r\n        method: 'post',\r\n        data: commentForm.value\r\n    }).then(res => {\r\n        context.$message.success(`发表成功`)\r\n        getDetail()\r\n        commentVisible.value = false\r\n    })\r\n}\r\n//评论删除\r\nconst commentDelClick = (id = null) => {\r\n    if (id) {\r\n        ElMessageBox.confirm(`是否删除选中评论`, '提示', {\r\n            confirmButtonText: '是',\r\n            cancelButtonText: '否',\r\n            type: 'warning',\r\n        }).then(() => {\r\n            context?.$http({\r\n                url: `forum/delete`,\r\n                method: 'post',\r\n                data: [id]\r\n            }).then(res => {\r\n                context.$message.success('删除成功')\r\n                getDetail()\r\n            })\r\n        }).catch(_ => {})\r\n    }\r\n}\r\n//评论回复\r\nconst commentReplyClick = (id = null) => {\r\n    if (id) {\r\n        resetCommentForm()\r\n        commentForm.value.parentid = id\r\n        commentVisible.value = true\r\n    }\r\n}\r\nconst reportVisible = ref(false)\r\nconst reportFormRef = ref()\r\nconst reportForm = ref({\r\n    forumId: '',\r\n    title: '',\r\n    userid:user.value.id,\r\n    reportUserid: user.value.id,\r\n    reportUsername: context?.$toolUtil.storageGet('frontName'),\r\n    reportedUserid: '',\r\n    reportedUsername: '',\r\n    reason: '',\r\n    images: '',\r\n    suggestion: '',\r\n    status: '待处理',\r\n    reporttype: '主题帖举报'\r\n})\r\nconst reportRules = ref({\r\n    reason: [\r\n        { required: true, message: '请输入举报理由', trigger: 'blur' }\r\n    ]\r\n})\r\n//上传回调\r\nconst uploadSuccess=(e)=>{\r\n    reportForm.value.images = e\r\n}\r\nconst toReport = ()=>{\r\n    if(!user.value.id)return context.$message.warning(\"请先登录\")\r\n    if(detailForm.value.userid == user.value.id)return context.$message.error(\"不能举报自己！\")\r\n    reportForm.value = {\r\n        forumId: detailForm.value.id,\r\n        title: detailForm.value.title,\r\n        userid:user.value.id,\r\n        reportUserid: user.value.id,\r\n        reportUsername: context?.$toolUtil.storageGet('frontName'),\r\n        reportedUserid: detailForm.value.userid,\r\n        reportedUsername: detailForm.value.username,\r\n        reason: '',\r\n        images: '',\r\n        suggestion: '',\r\n        status: '待处理',\r\n        reporttype: '主题帖举报'\r\n    }\r\n    reportVisible.value = true\r\n}\r\nconst reportSave = ()=>{\r\n    reportFormRef.value.validate((valid) => {\r\n        if (valid) {\r\n            context.$http.post('forumreport/add', reportForm.value).then(res => {\r\n                if (res.data.code == 0) {\r\n                    context.$message.success('举报信息已提交!');\r\n                    reportVisible.value = false\r\n                }\r\n            });\r\n        } else {\r\n            return false;\r\n        }\r\n    });\r\n}\r\n// 判断是否从个人中心跳转\r\nconst centerType = ref(false)\r\nconst init = () => {\r\n    if(route.query.centerType){\r\n        centerType.value = true\r\n    }\r\n    getDetail()\r\n}\r\nonMounted(()=>{\r\n    init()\r\n})\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.thumbs_view{\r\n    display: flex;\r\n    column-gap: 20px;\r\n    margin: 0 auto;\r\n    justify-content: center;\r\n}\r\n.operate-row{\r\n    text-align: right;\r\n    width: 100%;\r\n    padding: 10px;\r\n}\r\n.report-btn{\r\n    margin-left: auto;\r\n    color: #999;\r\n}\r\n/*总盒子*/\n.forum_view {\n    width: 100%;\n    padding: 0 7% 50px;\n    margin: 0 auto;\n    position: relative;\n    background: #FFFFFF;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n    justify-content: space-between;\n    \n}\n\n.forum_view .section_title {\n    width: 100%;\n}\n.forum_view .section_title{\n    background-size: 100% 100%;\n    color: #3B432C;\n    font-size: 26px;\n    line-height: 44px;\n    text-align: left;\n    font-weight: 500;\n}\n\n.forum_view .title{\n    color: rgb(51, 51, 51);\n    height:50px;\n    line-height:50px;\n    font-size:22px;\n    padding-left: 50px;\n    position: relative;\n}\n\n/*搜索盒子*/\n.forum_view .list_search{\n    width: 100%;\n    display:flex;\n    align-items:center;\n    justify-content: flex-end;\n    margin: 20px 0 10px 0;\n}\n.forum_view .list_search .search_view{\n    display:flex;\n    align-items:center;\n}\n.forum_view .list_search .search_view .search_label{\n    font-size:16px;\n    white-space: nowrap;\n}\n.forum_view .list_search .search_view .search_box{\n}\n.forum_view .list_search .search_view .search_box .el-input__wrapper{\n    box-shadow:none;\n    padding: 0;\n}\n.forum_view .list_search .search_view .search_box .search_inp{\n    padding:0 10px;\n    border:1px solid #ddd;\n    font-size:16px;\n    background: #fff;\n    height:38px;\n}\n.forum_view .list_search .search_btn_view .search_btn{\n    background: #3B432C;\n    color: rgb(255, 255, 255);\n    border:0;\n    border-radius:0;\n    height:38px;\n}\n.forum_view .list_search .search_btn_view .search_btn:hover{\n    background: #3B432C;\n}\n.forum_view .list_search .search_btn_view .add_btn{\n    background: #f49843;\n    color: rgb(255, 255, 255);\n    border:0;\n    border-radius:0;\n    height:38px;\n}\n.forum_view .list_search .search_btn_view .add_btn:hover{\n    background: #000;\n}\n\n/* 分类 */\n.forum_view .category_view {\n    width: 200px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    padding: 20px 0;\n    margin: 0 30px 0 0;\n    border-radius: 0 0 8px 8px;\n    box-shadow:0px 2px 4px -3px #ddd;\n}\n\n.forum_view .category {\n    width: 100%;\n    background: #fff;\n    padding: 15px 10px;\n    text-align: center;\n    cursor:pointer;\n    border-radius: 30px;\n    border: 1px solid #ddd;\n    margin: 0;\n    font-size: 16px;\n}\n\n.forum_view .category.categoryActive,.forum_view .category:hover {\n    color: #fff;\n    background: #3B432C;\n}\n\n/*列表盒子*/\n.forum_view .forum_list{\n    width: 100%;\n    margin: 20px auto;\n    padding: 0px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content:space-between;\n    flex:1;\n}\n/*item*/\n.forum_view .forum_list .forum_item{\n    width: calc(50% - 10px);\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 10px 30px;\n    cursor: pointer;\n    color: rgba(54, 49, 53, 1);\n    height: auto;\n    border-width: 0px 0px 0px;\n    border-style: solid;\n    border-color: rgb(238, 238, 238);\n    border-image: initial;\n    font-size: 16px;\n    margin-bottom: 20px;\n    background: #fff;\n    border: 0px dashed #ddd;\n    border-radius: 12px;\n}\n.forum_view .forum_list .forum_item:last-child{\n}\n.forum_view .forum_list .forum_item:hover{\n    color: #3B432C;\n}\n/*左边内容盒子*/\n.forum_view .forum_list .forum_item .forum_item_left{\n    display: flex;\n    align-items: center;\n}\n.forum_view .forum_list .forum_item .forum_item_left .el-image{\n    width: auto;\n    height: auto;\n    margin-right: 10px;\n}\n.forum_view .forum_list .forum_item .forum_item_left .el-image img{\n    width: 110px;\n    height: 110px;\n    object-fit: cover;\n}\n\n/*标题*/\n.forum_view .forum_list .forum_item .forum_item_left .forum_item_title{\n    font-size: 16px;\n    /* color: #3B432C; */\n    font-weight: 600;\n}\n/*发布人*/\n.forum_view .forum_list .forum_item .forum_item_left .forum_item_name{\n    color: rgb(153, 153, 153);\n}\n/*时间*/\n.forum_view .forum_list .forum_item .forum_time{\n    font-size: 15px;\n    color: #000;\n    padding: 10px;\n    background: none;\n}\n/*按钮盒子*/\n.forum_view .forum_list .forum_item .forum_item_btn_box{\n    width:auto;\n}\n/*修改*/\n.forum_view .forum_list .forum_item .forum_item_btn_box .forum_edit_btn{\n    margin: 0px 10px 0px 0px;\n    padding: 0px 24px;\n    width: auto;\n    height: 40px;\n    font-size: 14px;\n    color: rgb(255, 255, 255);\n    border-radius: 4px;\n    border: 0px;\n    background: #3B432C;\n    cursor: pointer;\n}\n/*删除*/\n.forum_view .forum_list .forum_item .forum_item_btn_box .forum_del_btn{\n    margin: 0px 10px 0px 0px;\n    padding: 0px 24px;\n    width: auto;\n    height: 40px;\n    font-size: 14px;\n    color: rgb(255, 255, 255);\n    border-radius: 4px;\n    border: 0px;\n    background: rgba(254, 66, 66, 0.8);\n    cursor: pointer;\n}\n\n\n/* 轮播 */\n.forum_view .el-carousel{\n    width: 50%;\n    margin: 0 auto;\n    order:-1;\n}\n.forum_view .el-carousel .el-carousel__container{\n    position: relative;  \n    height: 300px;\n}\n.forum_view .el-carousel .el-carousel__container .el-carousel__item{\n    \n}\n.forum_view .el-carousel .el-carousel__container .el-carousel__item img{\n    width: 100%;\n    height: 100%;\n    object-fit: contain !important;\n}\n\n\n/*info盒子*/\n.forum_view .forum_detail .forum_info{\n    width: 95%;\n    text-align: center;\n    color: #000000;\n    font-size: 16px;\n    margin:  0px auto;\n    display: flex;\n    justify-content: flex-end;\n    padding: 0 20px;\n    border-bottom: 1px solid #3B432C;\n}\n/*发布人*/\n.forum_view .forum_detail .forum_info .forum_name{\n    margin: 0px 10px 0px 0px;\n}\n/*时间*/\n.forum_view .forum_detail .forum_info .forum_time{\n    margin: 0px 10px 0px 0px;\n}\n/*分割线*/\n.forum_view .forum_detail .el-divider--horizontal{\n    display: block;\n    height: 0px;\n    width: 100%;\n    margin: 24px 0;\n}\n\n/*赞踩*/\n.forum_view .thumbs_view{\n    width: 100%;\n    background:none;\n}\n.forum_view .thumbs_view .zan_view{\n    border: 1px solid #ddd;\n    padding: 10px 20px;\n    border-radius: 30px;\n}\n.forum_view .thumbs_view .iconfont{\n    margin-right: 5px;\n}\n.forum_view .thumbs_view .can_view{\n    border: 1px solid #ddd;\n    padding: 10px 20px;\n    border-radius: 30px;\n}\n\n/*收藏*/\n.forum_view .collect_view{\n    width: 100%;\n    padding:0 20px;\n    background:none;\n}\n.forum_view .collect_view .iconfont{\n    margin-right: 5px;\n}\n\n\n/*内容区*/\n.forum_view .forum_detail .forum_content{\n    width: 100%;\n    text-align: left;\n    font-size: 16px;\n    color: #000000;\n    /* text-indent: 2rem; */\n    padding: 0 50px;\n    background:none;\n}\n\n/*一级评论 盒子*/\n.forum_view .forum_comment_box{\n    margin: 0px 0px 0px;\n    width: 100%;\n    padding: 0 0 20px 0;\n    border: 0px solid rgb(238, 238, 238);\n    box-shadow: none;\n    border-radius: 0px;\n}\n.forum_view .forum_comment_box .el-card__body{\n    padding: 0px;\n}\n/*列表盒子*/\n.forum_view .forum_comment_box .forum_comment_list{\n    width: 100%;\n    text-align: left;\n    padding: 20px;\n}\n/*item*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment{\n    width: 100%;\n    padding: 0px;\n    border: 0px solid rgb(238, 238, 238);\n    margin: 0px 0px 20px;\n    background:none;\n}\n/*用户盒子*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_user{\n    display: flex;\n    align-items: center;\n    background: #3B432C;\n    padding: 5px 10px;\n}\n/*头像*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_user .forum_comment_user_avatar{\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    margin: 0px 10px 0px 0px;\n}\n/*用户名*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_user .forum_comment_username{\n    font-size: 16px;\n    color: #000;\n}\n/*内容*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_content{\n    width: 100%;\n    padding: 20px 30px 0px 30px;\n    font-size: 16px;\n}\n/*按钮盒子*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_reply_view{\n    width: 100%;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: 0px 20px 0px 0px;\n    box-sizing: border-box;\n}\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_reply_view .forum_comment_del{\n    font-size: inherit;\n    color: #FFFFFF;\n    cursor: pointer;\n    margin: 0px 0px 0px 10px;\n    background: #000000;\n    padding: 5px 10px;\n    border-radius: 5px;\n}\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_reply_view .forum_comment_reply{\n    font-size: inherit;\n    color: rgb(255, 255, 255);\n    cursor: pointer;\n    margin: 0px 0px 0px 10px;\n    background: #3B432C;\n    padding: 5px 10px;\n        border-radius: 5px;\n}\n\n/*二级评论 盒子*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list{\n    width:100%;\n    padding:10px;\n    background:#F4F4F4;\n    border-radius: 10px 10px 10px 10px;\nborder: 1px solid #3B432C;\n    margin-top: 10px;\n}\n/*线*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second_divider{\n    display: block;\n    height: 1px;\n    width: 100%;\n    margin: 24px 0;\n    \n}\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second_divider .el-divider__text{\n    font-size: 16px;\n}\n/*item*/\n\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second:last-child{\n    border-width: 0px 0px 0px;\n}\n\n/*用户盒子*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second .forum_comment_second_user{\n    display: flex;\n    align-items: center;\n}\n/*头像*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second .forum_comment_second_user .forum_comment_second_user_avatar{\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    margin: 0px 10px 0px 0px;\n}\n/*用户名*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second .forum_comment_second_user .forum_comment_second_username{\n    font-size: 16px;\n}\n/*内容*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second .forum_comment_second_content{\n    width: calc(100% - 60px);\n    margin: 0px 0px 0px 60px;\n    padding: 20px 0px 0px;\n    color:#999;\n    font-size: 16px;\n}\n/*按钮盒子*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second .forum_comment_second_reply_view{\n    width: 100%;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: 0px 20px 0px 0px;\n    box-sizing: border-box;\n}\n/*删除*/\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second .forum_comment_second_reply_view .forum_comment_second_del{\n    font-size: inherit;\n    color: #FFFFFF;\n    cursor: pointer;\n    margin: 0px 0px 0px 10px;\n    background: #000000;\n    padding: 5px 10px;\n    border-radius:5px;\n}\n\n\n.forum_view .title:before {\n    position: absolute;\n    content: '';\n    width: 40px;\n    height: 40px;\n    top: -10px;\n    left: 0;\n    background: url(http://clfile.zggen.cn/20241205/28785da1592b4ff2b775a168e4b4bb3c.png);\n    background-size: 100% 100%;\n}\n\n\n\n.forum_view .comment_add_box {\n    display: flex;\n    padding: 10px;\n    background: #3B432C;\nborder-radius: 10px 10px 0px 0px;\n    height: 100px;  \n    line-height:100px;\n    align-items: center;\n    justify-content: center;\n}\n\n.forum_view .comment_divider.el-divider.el-divider--horizontal {\n    background: #3B432C!important;\n}\n\n.forum_view .el-divider__text {\n    color: #3B432C;\n    border: 1px solid rgba(66, 66, 66, 1);\n}\n\n.forum_view button.el-button.comment_add {\n    background: #FF6F2C;\n    color: #fff;\n    border: none;\n}\n\n/* nf9详情结构 */\n/* 轮播图 */\n.forum_view .el-carousel.el-carousel--horizontal.forum_swiper {\n    display:none;\n}\n\n.forum_view .forum_detail .forum_info{\n    order:-1;\n   padding-bottom:30px; \n   background:none;\n    \n}\n.forum_view .forum_detail .forum_title{\n    order:-2;\n \n  \n}\n.forum_view .forum_detail .forum_content{\n    order:2;\n    padding-bottom:100px;\n}\n.forum_view .forum_detail .el-divider--horizontal{\n    display:none;\n}\n.forum_view .forum_detail .forum_content{\n    order:3;\n}\n.forum_view .thumbs_view{\n    order:4\n}\n.forum_view .collect_view{\n    order:5\n}\n\n.forum_view .operate-row {\n    order:6;\n    background:none;\n    border-radius:0px 0px 50px 0px;\n}\n/* 评论列表分割 */\n.forum_view .el-divider.el-divider--horizontal.comment_divider {\n    display:none;\n}\n\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second_divider{\n    display:none;\n}\n\n\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_user{\nbackground: none;\nborder-radius: 20px 20px 0px 0px;\n    border: 1px solid #3B432C;\n    border-bottom:0px;\npadding-top:20px;\npadding-left:20px;\n}\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_content{\n   background: none;\nborder-radius: 0px 0px 0px 0px;\nborder:1px solid #3B432C;\nborder-bottom:0px;\n    border-top:0px; \n}\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_reply_view{\n   background: none;\nborder-radius: 0px 0px 20px 20px;\n   padding-bottom:20px;\n    border:1px solid #3B432C;\n    border-top:0px;\n}\n.forum_view .forum_comment_box .forum_comment_list .forum_comment .forum_comment_second_list .forum_comment_second{\nbackground: none;\nborder-radius: 0px 0px 0px 0px;\n   margin-bottom:20px;\n   padding:20px;\n    border-bottom: 1px solid #A8A8A8;\n}\n/* nf20 */\n/*详情盒子*/\n.forum_view .forum_detail{\n    width: 100%;\n    margin: 20px 0px 0;\n    padding: 0px;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: flex-start;\n    align-content: flex-start;\n    background:#FFF7E8;\nborder-radius:20px;\n\n}\n\n/*标题*/\n.forum_view .forum_detail .forum_title{\n    width: 100%;\n    text-align: center;\n    font-size: 18px;\n    font-weight: bold;\n    color: #000000;\n    margin-top: 20px;\n    padding:10px;\n}\n\n\n.forum_view .el-card.is-always-shadow.forum_comment_box {\n  background: #FFFFFF;\n\nborder-radius: 20px;\n   margin-top:50px; \n    border: 2px solid #3B432C;\n}\n\r\n</style>","export { default } from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./detail.vue?vue&type=script&setup=true&lang=js\"; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./detail.vue?vue&type=script&setup=true&lang=js\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./detail.vue?vue&type=style&index=0&id=5e8e6b25&scoped=true&lang=scss\"","import script from \"./detail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./detail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./detail.vue?vue&type=style&index=0&id=5e8e6b25&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5e8e6b25\"]])\n\nexport default __exports__","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar IteratorProxy = createIteratorProxy(function (arg) {\n  var iterator = this.iterator;\n  var filterer = this.filterer;\n  var next = this.next;\n  var result, done, value;\n  while (true) {\n    result = anObject(next.call(iterator, arg));\n    done = this.done = !!result.done;\n    if (done) return;\n    value = result.value;\n    if (callWithSafeIterationClosing(iterator, filterer, value)) return value;\n  }\n});\n\n$({ target: 'Iterator', proto: true, real: true }, {\n  filter: function filter(filterer) {\n    return new IteratorProxy({\n      iterator: anObject(this),\n      filterer: aFunction(filterer)\n    });\n  }\n});\n","<template>\r\n\t<el-dialog title=\"拍照上传\" v-model=\"visible\" width=\"1065px\">\r\n\t\t<div class=\"box\">\r\n\t\t\t<video id=\"videoCamera\" class=\"canvas\" :width=\"videoWidth\" :height=\"videoHeight\" autoPlay></video>\r\n\t\t\t<canvas id=\"canvasCamera\" class=\"canvas\" :width=\"videoWidth\" :height=\"videoHeight\"></canvas>\r\n\t\t</div>\r\n\t\t<template #footer>\r\n\t\t\t<div style=\"display: flex;justify-content: flex-end;\">\r\n\t\t\t\t<el-upload :action=\"getActionUrl\" :on-success=\"uploadSuccess\" :show-file-list=\"false\"\r\n\t\t\t\t\taccept=\".jpg,.png,.jpge\" style=\"margin-right:10px\">\r\n\t\t\t\t\t<el-button size=\"small\">\r\n\t\t\t\t\t\t上传图片\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-upload>\r\n\t\t\t\t<el-button @click=\"drawImage\" size=\"small\">\r\n\t\t\t\t\t拍照\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button v-if=\"os\" @click=\"getCompetence\" size=\"small\">\r\n\t\t\t\t\t打开摄像头\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button v-else @click=\"stopNavigator\" size=\"small\">\r\n\t\t\t\t\t关闭摄像头\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button @click=\"resetCanvas\" size=\"small\">\r\n\t\t\t\t\t重置\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button @click=\"onCancel\" size=\"small\">\r\n\t\t\t\t\t完成\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\r\n\t\t</template>\r\n\t</el-dialog>\r\n</template>\r\n<script setup>\r\n\timport {\r\n\t\tnextTick,\r\n\t\tref,\r\n\t\tgetCurrentInstance,\r\n\t\tcomputed,\r\n\t\tdefineEmits\r\n\t} from 'vue';\r\n\timport axios from \"axios\";\r\n\tconst context = getCurrentInstance()?.appContext.config.globalProperties;\r\n\tconst visible = ref(false) //弹窗\r\n\tconst loading = ref(false) //上传按钮加载\r\n\tconst os = ref(false) //控制摄像头开关\r\n\tconst thisVideo = ref(null)\r\n\tconst thisContext = ref(null)\r\n\tconst thisCancas = ref(null)\r\n\tconst videoWidth = ref(500)\r\n\tconst videoHeight = ref(400)\r\n\tconst postOptions = ref([])\r\n\tconst CertCtl = ref('')\r\n\tconst imgSrc = ref('')\r\n\tconst emit = defineEmits(['imgChange'])\r\n\tconst getActionUrl = computed(() => {\r\n\t\treturn context?.$config.name + '/file/upload'\r\n\t})\r\n\r\n\tconst uploadSuccess = (e) => {\r\n\t\tvisible.value = false;\r\n\t\temit('imgChange', e.file)\r\n\t}\r\n\t// 调用摄像头权限\r\n\tconst getCompetence = () => {\r\n\t\t//必须在model中render后才可获取到dom节点,直接获取无法获取到model中的dom节点\r\n\t\tnextTick(() => {\r\n\t\t\tos.value = false; //切换成关闭摄像头\r\n\t\t\tthisCancas.value = document.getElementById('canvasCamera');\r\n\t\t\tthisContext.value = document.getElementById('canvasCamera').getContext('2d');\r\n\t\t\tthisVideo.value = document.getElementById('videoCamera');\r\n\t\t\t// 旧版本浏览器可能根本不支持mediaDevices，我们首先设置一个空对象\r\n\t\t\tif (navigator.mediaDevices === undefined) {\r\n\t\t\t\tnavigator.menavigatordiaDevices = {}\r\n\t\t\t}\r\n\t\t\t// 一些浏览器实现了部分mediaDevices，我们不能只分配一个对象\r\n\t\t\t// 使用getUserMedia，因为它会覆盖现有的属性。\r\n\t\t\t// 这里，如果缺少getUserMedia属性，就添加它。\r\n\t\t\tif (navigator.mediaDevices.getUserMedia === undefined) {\r\n\t\t\t\tnavigator.mediaDevices.getUserMedia = function(constraints) {\r\n\t\t\t\t\t// 首先获取现存的getUserMedia(如果存在)\r\n\t\t\t\t\tlet getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia ||\r\n\t\t\t\t\t\tnavigator\r\n\t\t\t\t\t\t.getUserMedia;\r\n\t\t\t\t\t// 有些浏览器不支持，会返回错误信息\r\n\t\t\t\t\t// 保持接口一致\r\n\t\t\t\t\tif (!getUserMedia) {\r\n\t\t\t\t\t\treturn Promise.reject(new Error('getUserMedia is not implemented in this browser'))\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 否则，使用Promise将调用包装到旧的navigator.getUserMedia\r\n\t\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\t\tgetUserMedia.call(navigator, constraints, resolve, reject)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst constraints = {\r\n\t\t\t\taudio: false,\r\n\t\t\t\tvideo: {\r\n\t\t\t\t\twidth: videoWidth.value,\r\n\t\t\t\t\theight: videoHeight.value,\r\n\t\t\t\t\ttransform: 'scaleX(-1)'\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tnavigator.mediaDevices.getUserMedia(constraints).then(function(stream) {\r\n\t\t\t\t// 旧的浏览器可能没有srcObject\r\n\t\t\t\tif ('srcObject' in thisVideo.value) {\r\n\t\t\t\t\tthisVideo.value.srcObject = stream\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 避免在新的浏览器中使用它，因为它正在被弃用。\r\n\t\t\t\t\tthisVideo.value.src = window.URL.createObjectURL(stream)\r\n\t\t\t\t}\r\n\t\t\t\tthisVideo.value.onloadedmetadata = function(e) {\r\n\t\t\t\t\tthisVideo.value.play()\r\n\t\t\t\t}\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tcontext?.$toolUtil.notify('警告', '没有开启摄像头权限或浏览器版本不兼容.', 'warning')\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t/*调用摄像头拍照开始*/\r\n\tconst onTake = () => {\r\n\t\tvisible.value = true\r\n\t\tgetCompetence()\r\n\t}\r\n\r\n\t//声明父级调用\r\n\tdefineExpose({\r\n\t\tonTake\r\n\t})\r\n\tconst base64toFile = (dataurl, filename = 'file') => {\r\n\t\tlet arr = dataurl.split(',')\r\n\t\tlet mime = arr[0].match(/:(.*?);/)[1]\r\n\t\tlet suffix = mime.split('/')[1]\r\n\t\tlet bstr = atob(arr[1])\r\n\t\tlet n = bstr.length\r\n\t\tlet u8arr = new Uint8Array(n)\r\n\t\twhile (n--) {\r\n\t\t\tu8arr[n] = bstr.charCodeAt(n)\r\n\t\t}\r\n\t\tlet file = new File([u8arr], `${filename}.${suffix}`, {\r\n\t\t\ttype: mime\r\n\t\t})\r\n\t\treturn file\r\n\t}\r\n\tconst uploadImg = () => {\r\n\t\tlet param = new FormData()\r\n\t\tparam.append('file', base64toFile(imgSrc.value))\r\n\t\taxios.post(getActionUrl.value,param,{\r\n\t\t\theaders:{\r\n\t\t\t\t'Content-Type':'multipart/form-data'\r\n\t\t\t}\r\n\t\t}).then(res=>{\r\n\t\t\temit('imgChange', res.data.file)\r\n\t\t})\r\n\t}\r\n\tconst onCancel = () => {\r\n\t\tif(!imgSrc.value){\r\n            return context.$message.error('请先选择人脸图片')\r\n        }\r\n\t\tuploadImg()\r\n\t\tvisible.value = false\r\n\t\t/* this.resetCanvas();*/\r\n\t\tstopNavigator()\r\n\t}\r\n\tconst drawImage = () => {\r\n\t\t// 点击，canvas画图\r\n\t\tthisContext.value.drawImage(thisVideo.value, 0, 0, videoWidth.value, videoHeight.value);\r\n\t\t// 获取图片base64链接\r\n\t\timgSrc.value = thisCancas.value.toDataURL('image/png');\r\n\t\t/*const imgSrc=this.imgSrc;*/\r\n\t}\r\n\t//清空画布\r\n\tconst clearCanvas = (id) => {\r\n\t\tlet c = document.getElementById(id);\r\n\t\tlet cxt = c.getContext(\"2d\");\r\n\t\tcxt.clearRect(0, 0, c.width, c.height);\r\n\t}\r\n\t//重置画布\r\n\tconst resetCanvas = () => {\r\n\t\timgSrc.value = \"\";\r\n\t\tclearCanvas('canvasCamera');\r\n\t}\r\n\t//关闭摄像头\r\n\tconst stopNavigator = () => {\r\n\t\tif (thisVideo.value && thisVideo.value !== null) {\r\n\t\t\tthisVideo.value.srcObject.getTracks()[0].stop();\r\n\t\t\tos.value = true; //切换成打开摄像头\r\n\t\t}\r\n\t}\r\n</script>\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #ccc;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409EFF;\r\n\t}\r\n\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tline-height: 178px;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px dashed #ccc;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>","export { default } from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./img.vue?vue&type=script&setup=true&lang=js\"; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./img.vue?vue&type=script&setup=true&lang=js\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./img.vue?vue&type=style&index=0&id=1013dedc&rel=stylesheet%2Fscss&lang=scss&scoped=true\"","import script from \"./img.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./img.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./img.vue?vue&type=style&index=0&id=1013dedc&rel=stylesheet%2Fscss&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1013dedc\"]])\n\nexport default __exports__"],"names":["ref","nextTick","getCurrentInstance","onMounted","computed","useRoute","useRouter","useStore","Img","tableName","formName","store","user","getters","context","appContext","config","globalProperties","router","route","sessionTable","localStorage","getItem","baseUrl","$config","url","btnAuth","e","a","$toolUtil","isAuth","centerType","value","isBackAuth","backClick","history","back","detailForm","getDetail","$http","query","id","method","then","res","data","cover","imgUrls","split","map","substr","getThumbsupOrCrazily","thumbsupOrCrazilyInfo","storageGet","params","page","limit","refid","tablename","userid","list","filter","item","type","length","thumbsupOrCrazilyClick","name","title","picture","thumbsupNumber","crazilyNumber","message","cancelThumbsupOrCrazilyClick","ids","push","commentForm","content","parentid","username","avatarurl","commentVisible","resetCommentForm","commentClick","commentShowIndex","commentShowIndex1","commentEnter","index","commentLeave","commentEnter1","commentLeave1","commentChange","sensitiveWordsArr","getSensitiveWords","get","commentSave","i","reg","RegExp","indexOf","replace","$message","success","commentDelClick","ElMessageBox","confirm","confirmButtonText","cancelButtonText","catch","_","commentReplyClick","reportVisible","reportFormRef","reportForm","forumId","reportUserid","reportUsername","reportedUserid","reportedUsername","reason","images","suggestion","status","reporttype","reportRules","required","trigger","uploadSuccess","toReport","warning","error","reportSave","validate","valid","post","code","init","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_el_breadcrumb","separator","class","_component_el_breadcrumb_item","to","path","_cache","_hoisted_4","_component_el_button","onClick","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","isAnonymous","_hoisted_9","addtime","_hoisted_10","_createElementBlock","_Fragment","key","style","$event","_hoisted_11","_hoisted_12","_component_el_divider","innerHTML","_createBlock","_component_el_carousel","_renderList","_component_el_carousel_item","src","_hoisted_15","_component_el_icon","_component_EditPen","_component_el_card","_hoisted_16","_hoisted_17","childs","onMouseenter","onMouseleave","_hoisted_19","alt","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","items","indexs","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_34","_hoisted_35","_component_el_dialog","width","footer","_withCtx","_hoisted_36","_component_el_form","model","_component_el_row","_component_el_col","span","_component_el_form_item","prop","label","_component_editor","placeholder","onChange","rules","_component_el_input","rows","_component_uploads","action","tip","fileUrls","_hoisted_37","axios","visible","loading","os","thisVideo","thisContext","thisCancas","videoWidth","videoHeight","postOptions","CertCtl","imgSrc","emit","__emit","getActionUrl","file","getCompetence","document","getElementById","getContext","navigator","mediaDevices","undefined","menavigatordiaDevices","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","Promise","reject","Error","resolve","call","audio","video","height","transform","stream","srcObject","window","URL","createObjectURL","onloadedmetadata","play","err","notify","onTake","__expose","base64toFile","dataurl","filename","arr","mime","match","suffix","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","uploadImg","param","FormData","append","headers","onCancel","stopNavigator","drawImage","toDataURL","clearCanvas","c","cxt","clearRect","resetCanvas","getTracks","stop","_component_el_upload","accept","size","autoPlay"],"sourceRoot":""}